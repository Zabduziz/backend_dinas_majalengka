services:
  backend:
    build: .
    # depends_on:
    #   - postgres
    container_name: backend_majalengka
    ports:
      - "5050:5050"
    volumes:
      - ./public:/app/public:rw

#   postgres:
#     image: postgres:15.15-trixie
#     container_name: postgres_majalengka
#     environment:
#       - POSTGRES_USER=myuser
#       - POSTGRES_PASSWORD=mypass
#       - POSTGRES_DB=db_majalengka
#     ports:
#       - "5432:5432"
#     healthcheck:
#       # ðŸ›‘ QUICK FIX NEEDED HERE: PostgreSQL uses 'pg_isready', NOT 'mysqladmin'
#       test: ["CMD-SHELL", "pg_isready -U $$POSTGRES_USER -d $$POSTGRES_DB"] # Updated
#       interval: 10s
#       timeout: 5s
#       retries: 5
#       start_period: 10s
#     volumes:
#       - postgres:/var/lib/postgresql/data

# volumes:
#   postgres:
